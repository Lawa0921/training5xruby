<h1>
  <%= @user.name %><%= t("missions.list") %>
</h1>

<h1>
  <%= link_to t("missions.list"), order_by: "created_at" %>
</h1>

<%= search_form_for @q, url: admin_user_path(@user) do |f| %>
  <%= f.label :name_cont, t("missions.name") %>
  <%= f.search_field :name_cont %>

  <%= f.label :status_eq, t("missions.status") %>
  <%= f.select :status_eq, enum_collection("mission", "status") %>

  <%= f.submit %>
<% end %>

<table class="table table-striped">
  <thead>
    <td><%= t("missions.name") %></td>
    <td><%= t("missions.desc") %></td>
    <td><%= t("missions.start") %></td>
    <td><%= link_to t("missions.end"), order_by: "end_at" %></td>
    <td><%= t("missions.status") %></td>
    <td><%= link_to t("missions.priority"), order_by: "priority"%></td>
  </thead>
  <tbody>
    <% @missions.each do |mission|%>
      <tr>
        <td>
          <%= mission.name %>
        </td>
        <td>
          <%= mission.description %>
        </td>
        <td>
          <%= mission.start_at %>
        </td>
        <td>
          <%= mission.end_at %>
        </td>
        <td>
          <%= enum_name("mission", "status", mission.status) %>
        </td>
        <td>
          <%= enum_name("mission", "priority", mission.priority) %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= paginate @missions %>
